<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Act Article 12/19 Infrastructure Readiness Scorecard</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=DM+Mono:wght@300;400;500&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
  /* Your existing :root and styles remain mostly unchanged ‚Äì I added/edited these for better UX */
  body { line-height: 1.6; }
  .option { min-height: 48px; align-items: center; } /* Better touch targets */
  .lead-form { background: rgba(37,99,235,0.08); border: 1px solid rgba(37,99,235,0.3); border-radius: 16px; padding: 28px; margin: 32px 0; display: none; }
  .lead-form.show { display: block; animation: fadeUp 0.6s ease; }
  .lead-form input[type="email"] { width: 100%; padding: 14px; margin: 12px 0; border-radius: 8px; border: 1px solid var(--grey-400); background: var(--navy-mid); color: white; font-size: 16px; }
  .lead-form button { background: var(--blue-bright); color: white; border: none; padding: 14px 28px; border-radius: 10px; font-weight: 600; cursor: pointer; width: 100%; margin-top: 12px; }
  .teaser { font-style: italic; color: var(--grey-400); margin: 16px 0; }
  .hidden-results { display: none; opacity: 0; transition: opacity 0.8s; }
  .hidden-results.show { display: block; opacity: 1; }
  /* ... rest of your styles unchanged ... */
</style>
</head>
<body>
<!-- Your background divs unchanged -->

<div class="wrapper">
  <!-- SCORECARD FORM ‚Äì unchanged except minor copy tweaks for clarity -->
  <div id="scorecard">
    <div class="header">
      <div class="header-badge">EU AI Act Diagnostic ¬∑ Enforcement Aug 2026</div>
      <h1>Article 12 & 19<br><em>Logging & Control</em> Readiness Scorecard</h1>
      <p>3-minute self-assessment for automotive ADAS, OTA, and connected vehicle teams. Checks automatic logging (Art. 12), log protection/retention (Art. 19), and audit preparedness.</p>
      <!-- meta unchanged -->
    </div>

    <!-- Progress, sections, questions unchanged ‚Äì but consider adding aria-labels for accessibility, e.g. -->
    <!-- Example for one question: -->
    <!-- <div class="option" role="button" tabindex="0" onclick="select(1,'a',3)" aria-label="Yes, fully automated ‚Äì 3 points">...</div> -->

    <!-- ... all questions as-is ... -->

    <div class="cta-wrap">
      <button class="cta-btn" id="submit-btn" onclick="showResults()" disabled>
        <span>See My Compliance Score & Gaps</span>
        <span>‚Üí</span>
      </button>
      <p class="cta-note">Answer all questions for personalized results</p>
    </div>
  </div>

  <!-- RESULTS -->
  <div id="results" style="display:none;">
    <div class="results-header">
      <!-- Score ring, verdict unchanged -->
    </div>

    <div class="breakdown">
      <!-- Breakdown bars unchanged -->
    </div>

    <!-- Teaser before email gate -->
    <div class="gap-section">
      <div class="breakdown-title">Your Key Verdict & Teaser Gaps</div>
      <p id="teaser-verdict" class="teaser"></p>
      <div id="teaser-gaps"></div>
    </div>

    <!-- Lead Capture Form ‚Äì NEW -->
    <div class="lead-form" id="lead-form">
      <h3>Unlock Your Full Gap Analysis + Personalized Roadmap</h3>
      <p>Get detailed gaps, tailored 3-week sprint recommendations, and a downloadable summary emailed to you (no spam, one-time only).</p>
      <form action="https://formspree.io/f/your-form-id" method="POST">
        <input type="email" name="email" placeholder="Your work email" required aria-required="true">
        <input type="hidden" name="score" id="hidden-score">
        <input type="hidden" name="verdict" id="hidden-verdict">
        <!-- Optional: Add score breakdown as hidden if you want segmentation -->
        <button type="submit">Send My Personalized Report ‚Üí</button>
      </form>
      <p class="teaser" style="margin-top:16px; font-size:13px;">We respect your privacy ‚Äì only used for your report & one follow-up if requested.</p>
    </div>

    <!-- Hidden full results ‚Äì shown only after submit or skip -->
    <div class="hidden-results" id="full-results">
      <div class="gap-section">
        <div class="breakdown-title">Detailed Key Gaps Identified</div>
        <div id="gaps-container"></div>
      </div>
      <div class="rec-box" id="rec-box">
        <!-- rec-title, desc, steps unchanged -->
      </div>
      <div class="share-cta">
        <!-- unchanged, but add Calendly CTA -->
        <p>Ready to close these gaps fast? Book a free 20-min compliance chat:</p>
        <a href="https://calendly.com/your-username/20min" target="_blank" class="btn-secondary" style="display:inline-block; text-decoration:none;">
          <span>üìÖ Book Free Consultation</span>
        </a>
      </div>
    </div>

    <button class="restart-btn" onclick="restart()">‚Üê Retake</button>
  </div>

  <!-- Footer unchanged, but add link to lxdadvisory.de -->
  <div class="footer">
    <p>Built by <strong>Keithan Cokbilir ¬∑ <a href="https://lxdadvisory.de" style="color:var(--blue-glow);">LXD Advisory</a></strong> ¬∑ EU AI Act Article 12/19 Specialists</p>
  </div>
</div>

<script>
// Your existing JS variables/functions mostly unchanged

function showResults() {
  // Calculate total, sA, sB, sC, verdict logic ‚Äì unchanged

  // NEW: Show teaser immediately
  document.getElementById('scorecard').style.display = 'none';
  document.getElementById('results').style.display = 'block';
  // Animate score/ring/verdict as before...

  // Teaser content (simplified version of full)
  document.getElementById('teaser-verdict').textContent = `Score: ${total}/30 ‚Äì ${verdictTitle.textContent}. ${verdictDesc.textContent.substring(0,150)}...`;
  
  // Show 2-3 top gaps as teaser
  const teaserGaps = gaps.slice(0,3).map(g => `<div class="gap-card ${g.type}"><div class="gap-icon">${g.icon}</div><div class="gap-content"><h4>${g.title}</h4><p>${g.desc.substring(0,100)}...</p></div></div>`).join('');
  document.getElementById('teaser-gaps').innerHTML = teaserGaps || '<p class="teaser">Strong position ‚Äì no major red flags detected in teaser view.</p>';

  // Populate hidden full content (gaps, recs) as before
  // ... your gaps loop and rec logic here ...

  // Show lead form
  document.getElementById('lead-form').classList.add('show');

  // Pre-fill hidden fields for better segmentation
  document.getElementById('hidden-score').value = total;
  document.getElementById('hidden-verdict').value = verdictTitle.textContent;

  // Optional: After form submit success (use Formspree webhook or JS listener), show full-results
  // For simplicity, add skip link:
  const skipLink = document.createElement('p');
  skipLink.innerHTML = '<a href="#" onclick="showFullResults(); return false;" style="color:var(--grey-400);">Skip & view full results anyway</a>';
  document.getElementById('lead-form').appendChild(skipLink);
}

function showFullResults() {
  document.getElementById('lead-form').style.display = 'none';
  document.getElementById('full-results').classList.add('show');
}

// Add form submit listener if you want auto-show full after success (requires more JS)
document.querySelector('.lead-form form').addEventListener('submit', function(e) {
  // e.preventDefault(); // if you want AJAX submit + show full
  // For now, let it POST normally ‚Äì page reloads or redirect via Formspree thank-you
});

// ... rest of your JS (updateProgress, select, restart, copyLink) unchanged ...
</script>
</body>
</html>
